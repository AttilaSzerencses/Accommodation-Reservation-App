<div *ngIf="accommodation">
  <div class="mx-auto w-3/4 pt-5 pb-5 flex flex-col sm:flex-row justify-center items-center">
    <div class="bg-white rounded-md flex items-center mb-3 lg:mb-0 lg:mr-3">
        <button class="bg-gray-300 text-gray-800 rounded-l-md px-3 py-2" (click)="decrementAdults()">-</button>
        <div class="text-center px-3">
            <span>Person:</span>
            <span id="adults">{{ persons }}</span>
        </div>
        <button class="bg-gray-300 text-gray-800 rounded-r-md px-3 py-2" (click)="incrementAdults()">+</button>
    </div>
    <mat-form-field appearance="fill" class="w-3/5 absolute top-2">
        <mat-label>Check-in -- Check-out</mat-label>
        <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input matStartDate formControlName="start" placeholder="Start date">
            <input matEndDate formControlName="end" placeholder="End date">
        </mat-date-range-input>
        <mat-datepicker-toggle matIconSuffix [for]="picker"
            class="absolute bottom-1 right-0"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
    </mat-form-field>
    <button class="bg-blue-500 text-white px-3 py-2 rounded-md ml-2 h-12" (click)="refresh()">Refresh</button>
</div>
  <h1 class="text-center">{{accommodation.name}}</h1>
  <div class="bg-grey m-auto">
    <p class="text-center">{{accommodation.description}}</p>
  </div>
  <div id="carouselExampleCaptions" class="carousel slide relative w-1/2 m-auto" data-bs-ride="carousel">
    <div class="carousel-indicators absolute right-0 bottom-0 left-0 flex justify-center p-0 mb-4">
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
        aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
        aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
        aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner relative w-full overflow-hidden">
      <div class="carousel-item active relative float-left w-full">
        <div class="relative overflow-hidden bg-no-repeat bg-cover" style="background-position: 50%;">
          <img src="{{accommodation.mainPagePicture}}" class="block w-full" />
          <div
            class="absolute top-0 right-0 bottom-0 left-0 w-full h-full overflow-hidden bg-fixed bg-black opacity-50">
          </div>
        </div>
      </div>
      <div class="carousel-item relative float-left w-full">
        <div class="relative overflow-hidden bg-no-repeat bg-cover" style="background-position: 50%;">
          <img src="{{accommodation.secondImage}}" class="block w-full" />
          <div
            class="absolute top-0 right-0 bottom-0 left-0 w-full h-full overflow-hidden bg-fixed bg-black opacity-50">
          </div>
        </div>
      </div>
      <div class="carousel-item relative float-left w-full">
        <div class="relative overflow-hidden bg-no-repeat bg-cover" style="background-position: 50%;">
          <img src="{{accommodation.thirdImage}}" class="block w-full" />
          <div
            class="absolute top-0 right-0 bottom-0 left-0 w-full h-full overflow-hidden bg-fixed bg-black opacity-50">
          </div>
        </div>
      </div>
    </div>
    <button
      class="carousel-control-prev absolute top-0 bottom-0 flex items-center justify-center p-0 text-center border-0 hover:outline-none hover:no-underline focus:outline-none focus:no-underline left-0"
      type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon inline-block bg-no-repeat" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button
      class="carousel-control-next absolute top-0 bottom-0 flex items-center justify-center p-0 text-center border-0 hover:outline-none hover:no-underline focus:outline-none focus:no-underline right-0"
      type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon inline-block bg-no-repeat" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>


  <div class="container mt-5 mx-auto" *ngIf="amenities">
    <div class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10">
      <div
        class="card mx-1 border bg-gray-200 border-gray-400 rounded-lg hover:shadow-md hover:border-opacity-0 transform hover:-translate-y-1 transition-all duration-200"
        *ngFor="let amenity of amenities; index as i">
        <p class="text-center">{{amenity.name}}</p>
      </div>
    </div>
  </div>

  <div class="container lg:w-4/5 mx-auto flex flex-col pb-5">
    <div>
      <h2 class="mx-auto text-center">Rooms:</h2>
    </div>
    <div class="flex flex-col md:flex-row overflow-hidden bg-white rounded-lg shadow-xl  mt-4 w-7/8 mx-2 cursor-pointer"
      *ngFor="let room of freeRoomsInDate ; index as i">
      <div class="h-48 w-auto">
        <img class="inset-0 h-full w-72 object-cover object-center"
            src="{{room.roomImage}}" />
      </div>
      <div class="w-full py-4 px-6 text-gray-800 flex flex-col justify-between">
        <h3 class="font-semibold text-lg leading-tight truncate">{{ room.name }}</h3>
        <p class="mt-2">
          {{room.description}}
        </p>
        <p class="text-sm text-gray-700 uppercase tracking-wide font-semibold mt-2">
          Capacity: {{ room.bedSize }} person
        </p>
        <p class="text-sm text-gray-700 uppercase tracking-wide font-semibold mt-2">
          Room size: {{ room.size }} m2
        </p>
        <p class="text-sm text-gray-700 uppercase tracking-wide font-semibold mt-2">
          Search datas: {{ searchStartDate }} - {{ searchEndDate }}, person: {{ persons }}
        </p>
      </div>
      <button
        class="bg-gray-500 w-1/5 text-white active:bg-gray-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
        type="button" (click)="forwardToReservation(room)">
        Book this room!
      </button>
    </div>
    <div class="flex flex-col md:flex-row overflow-hidden bg-white rounded-lg shadow-xl  mt-4 w-7/8 mx-2 cursor-pointer"
    *ngFor="let room of notFreeRoomsInDate ; index as i">
    <div class="w-full py-4 px-6 text-gray-800 flex flex-col justify-between">
      <h3 class="font-semibold text-lg leading-tight truncate">{{ room.name }}</h3>
      <p class="mt-2">
        {{room.description}}
      </p>
      <p class="text-sm text-gray-700 uppercase tracking-wide font-semibold mt-2">
        Capacity: {{ room.bedSize }} person
      </p>
      <p class="text-sm text-gray-700 uppercase tracking-wide font-semibold mt-2">
        Room size: {{ room.size }} m2
      </p>
      <p class="text-sm text-gray-700 uppercase tracking-wide font-semibold mt-2">
        Search datas: {{ searchStartDate }} - {{ searchEndDate }}, person: {{ persons }}
      </p>
    </div>
    <button
      class="bg-gray-500 w-1/5 text-white font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
      type="button" >
      This room is booked on the given date or does not have enough capacity!
    </button>
  </div>
  </div>

</div>